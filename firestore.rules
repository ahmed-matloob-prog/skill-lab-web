rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users collection
    match /users/{userId} {
      allow read, write: if true; // POC: Allow all access
    }

    // Passwords collection
    match /passwords/{username} {
      allow read, write: if true; // POC: Allow all access
    }

    // Groups collection - REQUIRED for multi-admin sync
    match /groups/{groupId} {
      allow read, write: if true; // Allow all admins to read/write groups
    }

    // Students collection - REQUIRED for multi-admin sync
    match /students/{studentId} {
      allow read, write: if true; // Allow all admins to read/write students
    }

    // Attendance collection - REQUIRED for trainer/admin sync
    match /attendance/{recordId} {
      allow read, write: if true; // Allow trainers and admins to track attendance
    }

    // Assessments collection - REQUIRED for trainer/admin sync
    match /assessments/{recordId} {
      allow read, write: if true; // Allow trainers and admins to record assessments
    }
  }
}