// Firebase Setup Helper Script
// Run this script to help set up your .env file

const fs = require('fs');
const readline = require('readline');

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

console.log('\nðŸ”¥ Firebase Setup Helper ðŸ”¥\n');
console.log('Please provide your Firebase configuration values.\n');
console.log('You can find these in Firebase Console > Project Settings > General > Your apps > Web app\n');

const questions = [
  'Enter your Firebase API Key: ',
  'Enter your Auth Domain (e.g., your-project.firebaseapp.com): ',
  'Enter your Project ID: ',
  'Enter your Storage Bucket (e.g., your-project.appspot.com): ',
  'Enter your Messaging Sender ID: ',
  'Enter your App ID: '
];

const keys = [
  'REACT_APP_FIREBASE_API_KEY',
  'REACT_APP_FIREBASE_AUTH_DOMAIN',
  'REACT_APP_FIREBASE_PROJECT_ID',
  'REACT_APP_FIREBASE_STORAGE_BUCKET',
  'REACT_APP_FIREBASE_MESSAGING_SENDER_ID',
  'REACT_APP_FIREBASE_APP_ID'
];

const answers = {};

function askQuestion(index) {
  if (index >= questions.length) {
    // Generate .env file content
    let envContent = '# Firebase Configuration\n';
    envContent += '# Generated by setup-firebase.js\n\n';
    
    keys.forEach((key, i) => {
      envContent += `${key}=${answers[i]}\n`;
    });
    
    // Write .env file
    fs.writeFileSync('.env', envContent);
    console.log('\nâœ… .env file created successfully!\n');
    console.log('Next steps:');
    console.log('1. Restart your dev server (npm start)');
    console.log('2. Check browser console for "Firebase: Initialized successfully"');
    console.log('3. Test creating a user in Admin Panel\n');
    
    rl.close();
    return;
  }

  rl.question(questions[index], (answer) => {
    answers[index] = answer.trim();
    askQuestion(index + 1);
  });
}

askQuestion(0);

